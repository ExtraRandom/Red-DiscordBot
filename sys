#!/bin/bash
# Version 0.4

DIR="Red-DiscordBot"
BOT="red.py"
HELP="Args: git, bot, kill, yt (updates yt-dl)"


if [ -z "$*" ]; then
	echo $HELP
else
    if [ "$1" = "git" ]; then
        cd $DIR
        git pull
        cd ..
		echo "Run ./run to update 'sys's"
    elif [ "$1" = "bot" ]; then
		cd $DIR
        python3 $BOT &
		cd ..
	elif [ "$1" = "bottest" ]; then
		echo "Running bot test method" 	
		cd $DIR
		nohup ./monitor.bash &
		cd ..
	elif [ "$1" = "killtest" ]; then
		pkill -f -e monitor.bash
		pkill -f -e red.py
	elif [ "$1" = "gp" ]; then
		chmod 777 ./Red-DiscordBot/monitor.bash
	elif [ "$1" = "tp" ]; then
		chmod 644 ./Red-DiscordBot/monitor.bash
    elif [ "$1" = "kill" ]; then
        pkill -f -e red.py
	elif [ "$1" = "yt" ]; then
		sudo -H pip install --upgrade youtube-dl
    else
        echo $HELP
    fi
fi
